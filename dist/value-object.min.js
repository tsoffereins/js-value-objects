!function(){var t=window.ValueObject=function(t){if(n(this,"value",this.parse(t)),n(this,"original",t),!this.validate(this.value))throw this.throwException(),new e(this)};t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.parse=function(t){return t},t.prototype.throwException=function(){},t.library=Object.create(null),t.define=function(e,n){if(e=e.charAt(0).toUpperCase()+e.slice(1),"function"==typeof n){var o=n;n={validate:o}}if("function"!=typeof n.validate)throw new Error("ValueObject ["+e+"] can not be created without a validate method.");var a=function(e){t.call(this,e)};a.prototype=Object.create(t.prototype);for(var p in n)a.prototype[p]=n[p];n.extend&&r(a,n.extend),a.prototype.name=e;var c=function(t){return arguments.length>1&&(t=Array.prototype.slice.call(arguments,0)),i(a,t)};return c.prototype=a.prototype,c.validate=a.prototype.validate,t.library[e]=c,c};var e=function(t){"object"==typeof t?this.message="["+t.original+"] is not a valid value for "+t.name+".":this.message=t,this.type=t.name},n=function(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,enumerable:!1})},r=function(t,e){var n=e.prototype,r=Object.getOwnPropertyNames(n);for(var a in r){var i=r[a];n[i]instanceof Function&&(t.prototype[i]||o(t.prototype,i,n[i]))}},o=function(t,e,r){n(t,e,function(){return r.apply(this.value,arguments)})},a=Object.create(null),i=function(t,e){var n=a[t.name];n||(n=a[t.name]=Object.create(null));var r=JSON.stringify(e);return n[r]?n[r]:(n[r]=new t(e),n[r])}}();