!function(){var t=window.ValueObject=function(t){if(r(this,"value",this.parse(t)),r(this,"original",t),!this.validate(this.value))throw this.throwException(),new e(this)}
t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.parse=function(t){return t},t.prototype.throwException=function(){},t.library=Object.create(null),t.create=function(e,r){if(e=e.charAt(0).toUpperCase()+e.slice(1),"function"==typeof r){var o=r
r={validate:o}}if("function"!=typeof r.validate)throw new Error("ValueObject ["+e+"] can not be created without a validate method.")
var a=function(e){t.call(this,e)}
a.prototype=Object.create(t.prototype)
for(var p in r)a.prototype[p]=r[p]
r.extend&&n(a,r.extend),a.prototype.name=e
var c=function(t){return arguments.length>1&&(t=Array.prototype.slice.call(arguments,0)),i(a,t)}
return c.prototype=a.prototype,c.validate=a.prototype.validate,t.library[e]=c,c}
var e=function(t){"object"==typeof t?this.message="["+t.original+"] is not a valid value for "+t.name+".":this.message=t,this.type=t.name},r=function(t,e,r){Object.defineProperty(t,e,{value:r,writable:!1,enumerable:!1})},n=function(t,e){var r=e.prototype,n=Object.getOwnPropertyNames(r)
for(var a in n){var i=n[a]
r[i]instanceof Function&&(t.prototype[i]||o(t.prototype,i,r[i]))}},o=function(t,e,n){r(t,e,function(){return n.apply(this.value,arguments)})},a=Object.create(null),i=function(t,e){var r=a[t.name]
r||(r=a[t.name]=Object.create(null))
var n=JSON.stringify(e)
return r[n]?r[n]:(r[n]=new t(e),r[n])}}()
